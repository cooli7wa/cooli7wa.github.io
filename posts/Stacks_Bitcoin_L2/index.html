<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Stacks - Bitcoin L2" /><meta name="author" content="cooli7wa" /><meta property="og:locale" content="en" /><meta name="description" content="Stacks 和 Bicoin 的关系 Stacks 是 Bitcoin 的 L2，不过有自己的代币（STX），这点和一般的 L2 不同。" /><meta property="og:description" content="Stacks 和 Bicoin 的关系 Stacks 是 Bitcoin 的 L2，不过有自己的代币（STX），这点和一般的 L2 不同。" /><link rel="canonical" href="https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/" /><meta property="og:url" content="https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/" /><meta property="og:site_name" content="Cooli7wa" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-02-27T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Stacks - Bitcoin L2" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@cooli7wa" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"cooli7wa"},"dateModified":"2024-02-27T00:00:00+08:00","datePublished":"2024-02-27T00:00:00+08:00","description":"Stacks 和 Bicoin 的关系 Stacks 是 Bitcoin 的 L2，不过有自己的代币（STX），这点和一般的 L2 不同。","headline":"Stacks - Bitcoin L2","mainEntityOfPage":{"@type":"WebPage","@id":"https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/"},"url":"https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/"}</script><title>Stacks - Bitcoin L2 | Cooli7wa</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Cooli7wa"><meta name="application-name" content="Cooli7wa"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/images/cooli7wa.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Cooli7wa</a></div><div class="site-subtitle font-italic"></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/github_username" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cooli7wa67','163.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Stacks - Bitcoin L2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Stacks - Bitcoin L2</h1><div class="post-meta text-muted"><div> By <em> <a href="https://cooli7wa@126.com">cooli7wa</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2024-02-27 00:00:00 +0800" data-toggle="tooltip" data-placement="bottom" title="Tue, Feb 27, 2024, 12:00 AM +0800" >Feb 27</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="706 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><h2 id="stacks-和-bicoin-的关系">Stacks 和 Bicoin 的关系<a href="#stacks-和-bicoin-的关系" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Stacks 是 Bitcoin 的 L2，不过有自己的代币（STX），这点和一般的 L2 不同。</p><h2 id="stacks-的共识算法pox">Stacks 的共识算法（PoX）<a href="#stacks-的共识算法pox" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Stacks 共识算法（PoX）依赖 Bitcoin 的共识（PoW）。文档说 PoX 与其他链使用的 PoB（power of burn）类似，不同一般情况不销毁 Bitcoin，而是将其奖励给维持链活性的 Stackers。Stacks 上竞争出块的矿工，需要支付 Bitcoin，根据 Bitcoin 的多少决定出块概率。PoX 通过 VRF（verifiable random function）来选择出块的矿工，此矿工可以获得 STX 奖励，相当于用 Bitcoin 换取 STX。Stacker 根据持有的 STX 多少和参与出块的程度，获得对应比例的矿工支付的 Bitcoin。 Stackers 会预置一些自己的 Bitcoin 地址到地址集合，每次出块，矿工会随机选择一些地址转入 Bitcoin，一旦被选择一次，那么此地址被移除出集合。如果地址集合中的地址不够，那么还是可能会有 Burn 地址来凑数。</p><h2 id="谁来提交-bitcoin-交易给-stacks-验证">谁来提交 Bitcoin 交易给 Stacks 验证？<a href="#谁来提交-bitcoin-交易给-stacks-验证" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>矿工 在 Stacks 上提交转账 Bitcoin 的交易。</p><h2 id="什么是-sbtcbtc-怎么转的-sbtcsbtc-和-stx-什么关系">什么是 sBTC？BTC 怎么转的 sBTC？sBTC 和 STX 什么关系？<a href="#什么是-sbtcbtc-怎么转的-sbtcsbtc-和-stx-什么关系" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>sBTC 是 BTC 在 Stacks 上的映射，相当于解决了 BTC 的流动性问题。Bitcoin 上有一个多签的脚本地址，转给此地址的 BTC 会被转为同等金额的 sBTC，在必要的时候，可以重新转为 BTC。Stacks 有一个 Bitcoin layer 来监听事件。sBTC 和 STX 没有啥关系，STX 是 Stacks 的原生代币。</p><h2 id="其他">其他<a href="#其他" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Stacks 会将自己的账本 hash 记录在 Bitcoin 上（我没找到记录的方法，我估计是在交易脚本记录的方式），来作为验证的依据，提高自己链的可信度。</p><h2 id="一些疑问和题外话">一些疑问和题外话<a href="#一些疑问和题外话" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>PoX 让矿工花费 BTC 来换取 STX，而且花费的越多，能得到 STX 的概率就越高。这让我有些怀疑？有矿工愿意这么做吗？将目前价值最高的数字货币换成一个新出现的货币？而且这种做法貌似也不是必须的，大多数有代币的链，都不是这么做的。Stacks 这样有点敛财的感觉呢。</p><p>虽然 Stacks 的 PoX 和之前的 PoB 有所不同，PoX 大概率不会销毁 BTC（除非地址集合不足，会用 Burn 地址充数），但是还有概率会销毁 BTC 的。作为一个 L1 链 的 L2，却要影响到 L1，而且还要销毁 L1 上本就不多的代币，如果此 L2 真的发展起来，那么 L1 还怎么玩？慢慢的不就是取而代之了吗？这很让人费解。</p><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/study/'>study</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Stacks - Bitcoin L2 - Cooli7wa&url=https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Stacks - Bitcoin L2 - Cooli7wa&u=https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Stacks - Bitcoin L2 - Cooli7wa&url=https://cooli7wa.github.io/posts/Stacks_Bitcoin_L2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Neural_Networks_And_Deep_Learning_Chap1/"><div class="card-body"> <em class="timeago small" date="2018-02-22 00:00:00 +0800" >Feb 22, 2018</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Neural Networks And Deep Learning Chap1</h3><div class="text-muted small"><p> 原文地址 perceptrons（感知器） 1950s-1960s by scientist Frank Rosenblatt 数学模型： 所有权重参数为w1,w2…，threshold threshold，Dropping the threshold means you’re more willing to go to the festival. 与权重b是同一种意...</p></div></div></a></div><div class="card"> <a href="/posts/Neural_Networks_And_Deep_Learning_Chap2/"><div class="card-body"> <em class="timeago small" date="2018-02-23 00:00:00 +0800" >Feb 23, 2018</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Neural Networks And Deep Learning Chap2</h3><div class="text-muted small"><p> 原文地址 Warm up: a fast matrix-based approach to computing the output from a neural network The two assumptions we need about the cost function 两个假设： \[C=\frac{1}{2n}\sum_x \left \| y(x)-a^{L...</p></div></div></a></div><div class="card"> <a href="/posts/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0-%E4%BA%A4%E6%98%93%E4%BD%93%E5%88%9B%E5%BB%BA/"><div class="card-body"> <em class="timeago small" date="2019-01-04 00:00:00 +0800" >Jan 4, 2019</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>以太坊源码学习-交易体创建</h3><div class="text-muted small"><p> 这篇文章学习以太坊转账中交易生成流程。 // internal/ethapi/api.go // SendTransaction will create a transaction from the given arguments and // tries to sign it with the key associated with args.To. If the given pass...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Bitcoin_Taproot/" class="btn btn-outline-primary" prompt="Older"><p>Bitcoin Taproot</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/cooli7wa">Cooli7wa</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
