I"ê<p>è¿™ç¯‡ç®€å•ä»‹ç»ä¸‹ Writing Your First Application ä¸­çš„ä¸€äº›æ³¨æ„ç‚¹ã€‚</p>

<p>å®˜æ–¹è¿™ç¯‡æ•™ç¨‹å¾ˆç®€å•ï¼Œä½†æ˜¯æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚</p>

<h3 id="ä¸€äº›æ³¨æ„ç‚¹">ä¸€äº›æ³¨æ„ç‚¹</h3>

<ul>
  <li>
    <p>npm install</p>

    <p>è¿™ä¸ªå‘½ä»¤æ˜¯å®‰è£… package.json ä¸­æŒ‡å®šçš„å®‰è£…åŒ…ï¼Œé‡Œé¢ä¸»è¦æ˜¯è¿™ä¸‰ä¸ªï¼Œfabric-ca-clientã€fabric-client å’Œ grpc
fabric-ca-clientï¼Œæ˜¯ app ç”¨æ¥è·Ÿ fabric å†…çš„ ca æœåŠ¡é€šä¿¡çš„ï¼Œåœ¨åé¢åˆ›å»ºè¯ä¹¦çš„æ—¶å€™ï¼Œä¼šç”¨åˆ°ã€‚</p>

    <p>fabric-clientï¼Œæ˜¯ app ç”¨æ¥è·ŸèŠ‚ç‚¹é€šä¿¡çš„ï¼Œåé¢çš„ queryã€invoke éƒ½æ˜¯é€šè¿‡è¿™ä¸ªã€‚</p>

    <p>å¦å¤–åœ¨ ubuntu 1604 ä¸Šå®‰è£… nodejsï¼Œå¯èƒ½å®‰è£…æ˜¯å¾ˆæ—§çš„ç‰ˆæœ¬ï¼Œåœ¨è¿è¡Œ npm install çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥é”™ï¼Œå¯ä»¥çœ‹ä¸‹åé¢â€œnpm install çš„é—®é¢˜â€é‡Œè¯´çš„è§£å†³åŠæ³•ã€‚</p>
  </li>
  <li>
    <p>./startFabric.sh</p>

    <p>è¿™ä¸ªå°±æ˜¯å¯åŠ¨æ•´ä¸ª fabric ç½‘ç»œï¼Œå¹¶å®‰è£…å¥½ chaincode</p>
  </li>
  <li>
    <p>enrollAdmin.jsã€registerUser.jsã€query.jsã€invoke.js</p>

    <p>è¿™äº›å°±æ˜¯æ‰€è°“çš„ app äº†ï¼Œenroll å’Œ register ä¼šä½¿ç”¨ fabric-ca-client å’Œ fabric-client æ¥é€šä¿¡ï¼Œquery å’Œ invoke å°±åªä½¿ç”¨ fabric-client é€šä¿¡ï¼Œå› ä¸ºä¸éœ€è¦å’Œ ca é€šä¿¡ã€‚</p>

    <p>å‰ä¸¤ä¸ªæ˜¯æ³¨å†Œç”¨æˆ·ï¼Œåä¸¤ä¸ªæ˜¯è·å–ä¿¡æ¯å’Œæäº¤ä¿¡æ¯ã€‚</p>
  </li>
</ul>

<h3 id="npm-install-çš„é—®é¢˜">npm install çš„é—®é¢˜</h3>

<ul>
  <li>
    <p>æç¤º /usr/bin/env: â€˜nodeâ€™: No such file or directory</p>

    <p>è¿™ä¸ªæ˜¯å› ä¸ºé»˜è®¤åªæœ‰ nodejs æ²¡æœ‰ nodeï¼Œè§£å†³åŠæ³•æ˜¯åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ã€‚</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo ln -s /usr/bin/nodejs /usr/bin/node
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>npm install å¤±è´¥</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td><td class="rouge-code"><pre>node-pre-gyp WARN Using request for node-pre-gyp https download 
node-pre-gyp ERR! UNCAUGHT EXCEPTION 
node-pre-gyp ERR! stack TypeError: this is not a typed array.
node-pre-gyp ERR! stack     at Function.from (native)
node-pre-gyp ERR! stack     at Object.&lt;anonymous&gt; (/home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar/node_modules/fabric-client/node_modules/grpc/node_modules/tar/lib/parse.js:33:27)
node-pre-gyp ERR! stack     at Module._compile (module.js:410:26)
node-pre-gyp ERR! stack     at Object.Module._extensions..js (module.js:417:10)
node-pre-gyp ERR! stack     at Module.load (module.js:344:32)
node-pre-gyp ERR! stack     at Function.Module._load (module.js:301:12)
node-pre-gyp ERR! stack     at Module.require (module.js:354:17)
node-pre-gyp ERR! stack     at require (internal/module.js:12:17)
node-pre-gyp ERR! stack     at Object.&lt;anonymous&gt; (/home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar/node_modules/fabric-client/node_modules/grpc/node_modules/tar/lib/list.js:10:16)
node-pre-gyp ERR! stack     at Module._compile (module.js:410:26)
node-pre-gyp ERR! System Linux 4.4.0-137-generic
node-pre-gyp ERR! command "/usr/bin/nodejs" "/home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar/node_modules/fabric-client/node_modules/grpc/node_modules/.bin/node-pre-gyp" "install" "--fallback-to-build" "--library=static_library"
node-pre-gyp ERR! cwd /home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar/node_modules/fabric-client/node_modules/grpc
node-pre-gyp ERR! node -v v4.2.6
node-pre-gyp ERR! node-pre-gyp -v v0.10.3
node-pre-gyp ERR! This is a bug in `node-pre-gyp`.
node-pre-gyp ERR! Try to update node-pre-gyp and file an issue if it does not help:
node-pre-gyp ERR!     &lt;https://github.com/mapbox/node-pre-gyp/issues&gt;
fabcar@1.0.0 /home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar

npm WARN fabcar@1.0.0 No repository field.
npm ERR! Linux 4.4.0-137-generic
npm ERR! argv "/usr/bin/nodejs" "/usr/bin/npm" "install"
npm ERR! node v4.2.6
npm ERR! npm  v3.5.2
npm ERR! code ELIFECYCLE

npm ERR! grpc@1.14.2 install: `node-pre-gyp install --fallback-to-build --library=static_library`
npm ERR! Exit status 7
npm ERR! 
npm ERR! Failed at the grpc@1.14.2 install script 'node-pre-gyp install --fallback-to-build --library=static_library'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the grpc package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-pre-gyp install --fallback-to-build --library=static_library
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs grpc
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls grpc
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /home/cooli7wa/Documents/mywork/block_chain_wallet/fabric-samples/fabcar/npm-debug.log
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿™ä¸ªæ˜¯å› ä¸º nodejs ç‰ˆæœ¬è¿‡ä½ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•å®‰è£… 8.x ç‰ˆæœ¬</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
sudo apt-get install -y nodejs
</pre></td></tr></tbody></table></code></pre></div></div>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

:ET